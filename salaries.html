<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabla Salarial 2026 ATRM</title>
  <link rel="manifest" href="manifest.json">
  <style>
    :root{ --primary:#FF6B35; --secondary:#FF8C42; --accent:#FFA726; --dark:#2C3E50; --light:#FFFFFF; }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial; background: linear-gradient(180deg, #fff 0%, #fff7f0 100%); color: var(--dark); }
    header { background: linear-gradient(90deg, var(--primary), var(--secondary)); color: white; padding: 22px; text-align: center; }
    h1 { font-size: 30px; letter-spacing: .3px; }
    main { max-width: 1100px; margin: 0 auto; padding: 20px; }
    .actions { display:flex; flex-wrap:wrap; gap:10px; margin: 4px 0 16px; }
    .btn { display: inline-block; background: linear-gradient(90deg, var(--primary), var(--secondary)); color: white; padding: 12px 16px; text-decoration: none; border-radius: 12px; font-weight: 700; transition: .2s; }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(255,107,53,.3); }
    .btn.alt { background: #fff; color: var(--primary); border: 2px solid var(--primary); }
    .card { background: #fff; border: 1px solid #ffe2cf; border-radius: 18px; box-shadow: 0 10px 24px rgba(255,119,51,.08); padding: 16px; }
    table { width: 100%; border-collapse: collapse; margin-top: 12px; overflow: hidden; border-radius: 12px; }
    th { background: #ff6b35; color: white; padding: 12px; text-align: center; font-size: 14px; }
    td { border: 1px solid #f3d4c6; padding: 10px; text-align: center; background: #fff; }
    tr:nth-child(odd) td { background: #fff5f2; }
    tr:hover td { background: #ffe8e0; }
    td:first-child { font-weight: bold; color: #ff6b35; text-align: left; }
    td:last-child { background: #fff5f2; font-weight: bold; color: #ff6b35; font-size: 16px; }
  </style>
</head>
<body>
  <header>
    <h1>TABLA SALARIAL 2026</h1>
  </header>
  <main>
    <div class="actions">
      <a class="btn alt" href="index.html">‚Üê Volver</a>
      <a class="btn" href="conceptos_2026.html">üìú Conceptos 2026</a>
      <a class="btn" href="tabla_salarial_2026_pdf.html" target="_blank">üìÑ PDF Tabla 2026</a>
    </div>
    <div class="card">
    <table>
      <thead>
        <tr>
          <th>CATEGOR√çA</th>
          <th>S.BASE</th>
          <th>TOX</th>
          <th>PAGAS</th>
          <th>ENERO</th>
          <th>P.R.D.</th>
          <th>TRANSP.</th>
          <th>TOTAL</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>PE√ìN RECOGIDA</td><td>1.360,42 ‚Ç¨</td><td>408,13 ‚Ç¨</td><td>1.933,94 ‚Ç¨</td><td>1.693,18 ‚Ç¨</td><td>164,90 ‚Ç¨</td><td>70,79 ‚Ç¨</td><td>33.475,19 ‚Ç¨</td></tr>
        <tr><td>PE√ìN LIMPIEZA</td><td>1.360,42 ‚Ç¨</td><td>408,13 ‚Ç¨</td><td>1.804,14 ‚Ç¨</td><td>1.639,12 ‚Ç¨</td><td>35,59 ‚Ç¨</td><td>70,79 ‚Ç¨</td><td>31.353,79 ‚Ç¨</td></tr>
        <tr><td>CONDUCTOR RECOGIDA</td><td>1.434,73 ‚Ç¨</td><td>430,42 ‚Ç¨</td><td>2.146,68 ‚Ç¨</td><td>1.782,19 ‚Ç¨</td><td>281,52 ‚Ç¨</td><td>70,79 ‚Ç¨</td><td>36.977,49 ‚Ç¨</td></tr>
        <tr><td>CONDUCTOR LIMPIEZA Y AYD. MEC√ÅNICO</td><td>1.434,73 ‚Ç¨</td><td>430,42 ‚Ç¨</td><td>1.996,73 ‚Ç¨</td><td>1.719,71 ‚Ç¨</td><td>137,58 ‚Ç¨</td><td>70,79 ‚Ç¨</td><td>34.515,87 ‚Ç¨</td></tr>
        <tr><td>ENCARGADO BRIGADA</td><td>1.501,40 ‚Ç¨</td><td>450,42 ‚Ç¨</td><td>2.227,46 ‚Ç¨</td><td>1.815,93 ‚Ç¨</td><td>275,64 ‚Ç¨</td><td>70,79 ‚Ç¨</td><td>36.237,45 ‚Ç¨</td></tr>
        <tr><td>INSPECTOR DISTRITO</td><td>1.558,95 ‚Ç¨</td><td>467,68 ‚Ç¨</td><td>2.296,92 ‚Ç¨</td><td>1.644,91 ‚Ç¨</td><td>270,29 ‚Ç¨</td><td>70,79 ‚Ç¨</td><td>39.444,51 ‚Ç¨</td></tr>
        <tr><td>OFICIAL ADMON 2¬™</td><td>1.601,13 ‚Ç¨</td><td>480,34 ‚Ç¨</td><td>2.119,13 ‚Ç¨</td><td>1.794,13 ‚Ç¨</td><td>37,65 ‚Ç¨</td><td>145,46 ‚Ç¨</td><td>37.443,56 ‚Ç¨</td></tr>
        <tr><td>OFICIAL ADMON 1¬™</td><td>1.787,92 ‚Ç¨</td><td>536,39 ‚Ç¨</td><td>2.361,67 ‚Ç¨</td><td>1.893,31 ‚Ç¨</td><td>37,37 ‚Ç¨</td><td>139,28 ‚Ç¨</td><td>41.332,14 ‚Ç¨</td></tr>
        <tr><td>JEFE ADMON</td><td>1.833,28 ‚Ç¨</td><td>549,99 ‚Ç¨</td><td>2.420,38 ‚Ç¨</td><td>1.916,31 ‚Ç¨</td><td>37,12 ‚Ç¨</td><td>134,02 ‚Ç¨</td><td>42.250,52 ‚Ç¨</td></tr>
        <tr><td>DIRECTOR</td><td>2.536,51 ‚Ç¨</td><td>760,95 ‚Ç¨</td><td>3.325,94 ‚Ç¨</td><td>2.273,48 ‚Ç¨</td><td>28,48 ‚Ç¨</td><td>67,08 ‚Ç¨</td><td>56.293,59 ‚Ç¨</td></tr>
      </tbody>
    </table>
    </div>

    <section style="margin-top:32px">
      <h2 style="margin-top:24px;color:#ff6b35">Otros conceptos salariales 2026</h2>
      <div class="card" id="otros-conceptos"></div>

      <h2 style="margin-top:24px;color:#ff6b35">Prestaciones no salariales 2026</h2>
      <div class="card" id="prestaciones"></div>

      <h2 style="margin-top:32px;color:#ff6b35">üí∞ Calculadora de Salario</h2>
      <div class="card" style="padding:24px">
        <p style="color:#666;margin-bottom:16px">Calcula tu salario bruto anual seg√∫n tu categor√≠a y antig√ºedad.</p>
        
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px">
          <div>
            <label style="display:block;font-weight:600;margin-bottom:8px">Categor√≠a profesional</label>
            <select id="calcCategoria" style="width:100%;padding:10px;border:1px solid #ffd2b5;border-radius:8px;font-size:14px">
              <option value="">-- Selecciona categor√≠a --</option>
              <option value="PE√ìN RECOGIDA">Pe√≥n Recogida</option>
              <option value="PE√ìN LIMPIEZA">Pe√≥n Limpieza</option>
              <option value="CONDUCTOR RECOGIDA">Conductor Recogida</option>
              <option value="CONDUCTOR LIMPIEZA Y AYD. MEC√ÅNICO">Conductor Limpieza y Ayudante Mec√°nico</option>
              <option value="ENCARGADO BRIGADA">Encargado Brigada</option>
              <option value="INSPECTOR DISTRITO">Inspector Distrito</option>
              <option value="OFICIAL ADMON 2¬™">Oficial Administraci√≥n 2¬™</option>
              <option value="OFICIAL ADMON 1¬™">Oficial Administraci√≥n 1¬™</option>
              <option value="JEFE ADMON">Jefe Administraci√≥n</option>
              <option value="DIRECTOR">Director</option>
            </select>
          </div>
          
          <div>
            <label style="display:block;font-weight:600;margin-bottom:8px">A√±os de antig√ºedad</label>
            <input type="number" id="calcAntiguedad" min="0" max="50" value="0" style="width:100%;padding:10px;border:1px solid #ffd2b5;border-radius:8px;font-size:14px">
          </div>
        </div>

        <button onclick="calcularSalario()" style="background:linear-gradient(90deg,#FF6B35,#FF8C42);color:#fff;padding:12px 24px;border:none;border-radius:12px;font-weight:700;cursor:pointer;font-size:15px;width:100%">Calcular salario</button>

        <div id="calcResultado" style="margin-top:20px;display:none">
          <div style="background:#fff5f2;border-left:4px solid #FF6B35;padding:16px;border-radius:8px">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:12px">
              <div>
                <div style="font-size:12px;color:#999;font-weight:600;margin-bottom:4px">SALARIO MENSUAL (14 pagas)</div>
                <div style="font-size:24px;font-weight:800;color:#FF6B35" id="calcMensual">-</div>
              </div>
              <div>
                <div style="font-size:12px;color:#999;font-weight:600;margin-bottom:4px">SALARIO ANUAL BRUTO</div>
                <div style="font-size:24px;font-weight:800;color:#FF6B35" id="calcAnual">-</div>
              </div>
            </div>
            
            <div style="border-top:1px solid #ffe2cf;padding-top:12px;font-size:13px;color:#666">
              <div style="display:flex;justify-content:space-between;margin:6px 0">
                <span>Salario base:</span>
                <strong id="calcBase">-</strong>
              </div>
              <div style="display:flex;justify-content:space-between;margin:6px 0">
                <span>Plus toxicidad (30%):</span>
                <strong id="calcToxico">-</strong>
              </div>
              <div style="display:flex;justify-content:space-between;margin:6px 0">
                <span>Pagas extraordinarias:</span>
                <strong id="calcPagas">-</strong>
              </div>
              <div style="display:flex;justify-content:space-between;margin:6px 0;color:#27ae60">
                <span>Plus antig√ºedad:</span>
                <strong id="calcAntiguedadBono">-</strong>
              </div>
              <div style="display:flex;justify-content:space-between;margin:6px 0">
                <span>Plus transporte:</span>
                <strong id="calcTransporte">-</strong>
              </div>
              <div style="display:flex;justify-content:space-between;margin:6px 0">
                <span>Otros conceptos (P.R.D.):</span>
                <strong id="calcOtros">-</strong>
              </div>
            </div>
            
            <div style="margin-top:12px;padding:12px;background:#fff;border-radius:6px;border:1px solid #ffd2b5;font-size:12px;color:#666">
              <strong>‚ÑπÔ∏è Nota:</strong> Este c√°lculo es estimado basado en los conceptos 2026. Para un c√°lculo exacto de tu n√≥mina, contacta con ATRM.
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <script>
    (function(){
      const pretty = {
        'retenes_fines_semana_art6': 'Retenes fines de semana (Art. 6)',
        'plus_festividad_art21': 'Plus de festividad (Art. 21)',
        'plus_funcional_planta_art21': 'Plus funcional de planta (Art. 21)',
        'plus_funcional_responsabilidad_art21': 'Plus funcional de responsabilidad (Art. 21)',
        'plus_funcional_colector_art21': 'Plus funcional de colector (Art. 21)',
        'dieta_art24': 'Dieta (Art. 24)',
        'kilometraje_art24': 'Kilometraje (Art. 24)',
        'ayuda_social_yg_art31': 'Ayuda social V.G. (Art. 31)',
        'plus_funcional_peon_espec_recogida_art30': 'Plus pe√≥n especial recogida (Art. 50)',
        'plus_funcional_peon_espec_limpieza_art30': 'Plus pe√≥n especial limpieza (Art. 50)',
      };

      function formatEUR(n){
        const num = Number(n);
        if (isNaN(num)) return n;
        return new Intl.NumberFormat('es-ES', { style:'currency', currency:'EUR' }).format(num);
      }

      function renderTable(obj){
        const rows = Object.entries(obj).map(([k,v]) => {
          const name = pretty[k] || k;
          return `<tr><td style="text-align:left">${name}</td><td>${formatEUR(v)}</td></tr>`;
        }).join('');
        return `
          <table>
            <thead>
              <tr><th style="text-align:left">Concepto</th><th>Importe</th></tr>
            </thead>
            <tbody>${rows}</tbody>
          </table>`;
      }

      fetch('data/conceptos_salariales_2026.json')
        .then(r => { if(!r.ok) throw new Error('No disponible'); return r.json(); })
        .then(data => {
          if (data.otros_conceptos_salariales) {
            document.getElementById('otros-conceptos').innerHTML = renderTable(data.otros_conceptos_salariales);
          }
          if (data.prestaciones_no_salariales) {
            document.getElementById('prestaciones').innerHTML = renderTable(data.prestaciones_no_salariales);
          }
        })
        .catch(() => {
          document.getElementById('otros-conceptos').innerHTML = '<div style="padding:12px;border:1px solid #ffd2b5;background:#fff5f2;border-radius:8px">No se pudieron cargar los conceptos adicionales.</div>';
        });
    })();
  </script>
  
  <script>
    // Datos de las categor√≠as con salario base y otros conceptos
    const categorias = {
      "PE√ìN RECOGIDA": { base: 1360.42, toxico: 408.13, pagas: 1933.94, enero: 1693.18, prd: 164.90, transporte: 70.79, total: 33475.19 },
      "PE√ìN LIMPIEZA": { base: 1360.42, toxico: 408.13, pagas: 1804.14, enero: 1639.12, prd: 35.59, transporte: 70.79, total: 31353.79 },
      "CONDUCTOR RECOGIDA": { base: 1434.73, toxico: 430.42, pagas: 2146.68, enero: 1782.19, prd: 281.52, transporte: 70.79, total: 36977.49 },
      "CONDUCTOR LIMPIEZA Y AYD. MEC√ÅNICO": { base: 1434.73, toxico: 430.42, pagas: 1996.73, enero: 1719.71, prd: 137.58, transporte: 70.79, total: 34515.87 },
      "ENCARGADO BRIGADA": { base: 1501.40, toxico: 450.42, pagas: 2227.46, enero: 1815.93, prd: 275.64, transporte: 70.79, total: 36237.45 },
      "INSPECTOR DISTRITO": { base: 1558.95, toxico: 467.68, pagas: 2296.92, enero: 1644.91, prd: 270.29, transporte: 70.79, total: 39444.51 },
      "OFICIAL ADMON 2¬™": { base: 1601.13, toxico: 480.34, pagas: 2119.13, enero: 1794.13, prd: 37.65, transporte: 145.46, total: 37443.56 },
      "OFICIAL ADMON 1¬™": { base: 1787.92, toxico: 536.39, pagas: 2361.67, enero: 1893.31, prd: 37.37, transporte: 139.28, total: 41332.14 },
      "JEFE ADMON": { base: 1833.28, toxico: 549.99, pagas: 2420.38, enero: 1916.31, prd: 37.12, transporte: 134.02, total: 42250.52 },
      "DIRECTOR": { base: 2536.51, toxico: 760.95, pagas: 3325.94, enero: 2273.48, prd: 28.48, transporte: 67.08, total: 56293.59 }
    };

    function formatEUR(num) {
      return new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(num);
    }

    function calcularSalario() {
      const categoria = document.getElementById('calcCategoria').value;
      const antiguedad = parseInt(document.getElementById('calcAntiguedad').value) || 0;

      if (!categoria) {
        alert('Por favor selecciona una categor√≠a');
        return;
      }

      const datos = categorias[categoria];
      if (!datos) {
        alert('Categor√≠a no encontrada');
        return;
      }

      // Calcular plus antig√ºedad (5% primeros 3 bienios, 7% despu√©s)
      let bonusAntiguedad = 0;
      if (antiguedad > 0) {
        const bienios = Math.floor(antiguedad / 2);
        if (bienios <= 3) {
          bonusAntiguedad = datos.base * (bienios * 0.05);
        } else {
          bonusAntiguedad = (datos.base * 0.15) + (datos.base * ((bienios - 3) * 0.07));
        }
      }

      // Salario anual bruto estimado
      const anualBruto = datos.total + bonusAntiguedad;
      const mensual = anualBruto / 14;

      // Mostrar resultados
      document.getElementById('calcMensual').textContent = formatEUR(mensual);
      document.getElementById('calcAnual').textContent = formatEUR(anualBruto);
      document.getElementById('calcBase').textContent = formatEUR(datos.base);
      document.getElementById('calcToxico').textContent = formatEUR(datos.toxico);
      document.getElementById('calcPagas').textContent = formatEUR(datos.pagas + datos.enero);
      document.getElementById('calcAntiguedadBono').textContent = bonusAntiguedad > 0 ? formatEUR(bonusAntiguedad) : '0 ‚Ç¨';
      document.getElementById('calcTransporte').textContent = formatEUR(datos.transporte);
      document.getElementById('calcOtros').textContent = formatEUR(datos.prd);

      document.getElementById('calcResultado').style.display = 'block';
    }

    // Permitir calcular con Enter
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('calcAntiguedad').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') calcularSalario();
      });
    });
  </script>
  <script src="js/pwa.js"></script>
  <script src='js/bottom-nav.js'></script>
</body>
</html>
