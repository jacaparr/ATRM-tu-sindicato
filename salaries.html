<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabla Salarial 2026 ATRM</title>
  <link rel="manifest" href="manifest.json">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, sans-serif; background: white; }
    header { background: #ff6b35; color: white; padding: 20px; text-align: center; }
    h1 { font-size: 28px; }
    main { max-width: 1200px; margin: 0 auto; padding: 20px; }
    .btn { display: inline-block; background: #ff6b35; color: white; padding: 12px 20px; text-decoration: none; border-radius: 5px; margin-bottom: 20px; font-weight: bold; }
    .btn:hover { background: #e55a2b; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    th { background: #ff6b35; color: white; padding: 12px; text-align: center; font-size: 14px; }
    td { border: 1px solid #ddd; padding: 10px; text-align: center; }
    tr:nth-child(odd) { background: #fff5f2; }
    tr:hover { background: #ffe8e0; }
    td:first-child { font-weight: bold; color: #ff6b35; text-align: left; }
    td:last-child { background: #fff5f2; font-weight: bold; color: #ff6b35; font-size: 16px; }
  </style>
</head>
<body>
  <header>
    <h1>TABLA SALARIAL 2026</h1>
  </header>
  <main>
    <a class="btn" href="index.html">← Volver</a>
    <table>
      <thead>
        <tr>
          <th>CATEGORÍA</th>
          <th>S.BASE</th>
          <th>TOX</th>
          <th>PAGAS</th>
          <th>ENERO</th>
          <th>P.R.D.</th>
          <th>TRANSP.</th>
          <th>TOTAL</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>PEÓN RECOGIDA</td><td>1.360,42 €</td><td>408,13 €</td><td>1.933,94 €</td><td>1.693,18 €</td><td>164,90 €</td><td>70,79 €</td><td>33.475,19 €</td></tr>
        <tr><td>PEÓN LIMPIEZA</td><td>1.360,42 €</td><td>408,13 €</td><td>1.804,14 €</td><td>1.639,12 €</td><td>35,59 €</td><td>70,79 €</td><td>31.353,79 €</td></tr>
        <tr><td>CONDUCTOR RECOGIDA</td><td>1.434,73 €</td><td>430,42 €</td><td>2.146,68 €</td><td>1.782,19 €</td><td>281,52 €</td><td>70,79 €</td><td>36.977,49 €</td></tr>
        <tr><td>ENCARGADO BRIGADA</td><td>1.501,40 €</td><td>450,42 €</td><td>2.227,46 €</td><td>1.815,93 €</td><td>275,64 €</td><td>70,79 €</td><td>36.237,45 €</td></tr>
        <tr><td>INSPECTOR DISTRITO</td><td>1.558,95 €</td><td>467,68 €</td><td>2.296,92 €</td><td>1.644,91 €</td><td>270,29 €</td><td>70,79 €</td><td>39.444,51 €</td></tr>
        <tr><td>OFICIAL ADMON 2ª</td><td>1.601,13 €</td><td>480,34 €</td><td>2.119,13 €</td><td>1.794,13 €</td><td>37,65 €</td><td>145,46 €</td><td>37.443,56 €</td></tr>
        <tr><td>OFICIAL ADMON 1ª</td><td>1.787,92 €</td><td>536,39 €</td><td>2.361,67 €</td><td>1.893,31 €</td><td>37,37 €</td><td>139,28 €</td><td>41.332,14 €</td></tr>
        <tr><td>JEFE ADMON</td><td>1.833,28 €</td><td>549,99 €</td><td>2.420,38 €</td><td>1.916,31 €</td><td>37,12 €</td><td>134,02 €</td><td>42.250,52 €</td></tr>
        <tr><td>DIRECTOR</td><td>2.536,51 €</td><td>760,95 €</td><td>3.325,94 €</td><td>2.273,48 €</td><td>28,48 €</td><td>67,08 €</td><td>56.293,59 €</td></tr>
      </tbody>
    </table>

    <section style="margin-top:32px">
      <h2 style="margin-top:24px;color:#ff6b35">Otros conceptos salariales 2026</h2>
      <div id="otros-conceptos"></div>

      <h2 style="margin-top:24px;color:#ff6b35">Prestaciones no salariales 2026</h2>
      <div id="prestaciones"></div>
    </section>
  </main>
  <script>
    (function(){
      const pretty = {
        'retenes_fines_semana_art6': 'Retenes fines de semana (Art. 6)',
        'plus_festividad_art21': 'Plus de festividad (Art. 21)',
        'plus_funcional_planta_art21': 'Plus funcional de planta (Art. 21)',
        'plus_funcional_responsabilidad_art21': 'Plus funcional de responsabilidad (Art. 21)',
        'plus_funcional_colector_art21': 'Plus funcional de colector (Art. 21)',
        'dieta_art24': 'Dieta (Art. 24)',
        'kilometraje_art24': 'Kilometraje (Art. 24)',
        'ayuda_social_yg_art31': 'Ayuda social V.G. (Art. 31)',
        'plus_funcional_peon_espec_recogida_art30': 'Plus peón especial recogida (Art. 50)',
        'plus_funcional_peon_espec_limpieza_art30': 'Plus peón especial limpieza (Art. 50)',
      };

      function formatEUR(n){
        const num = Number(n);
        if (isNaN(num)) return n;
        return new Intl.NumberFormat('es-ES', { style:'currency', currency:'EUR' }).format(num);
      }

      function renderTable(obj){
        const rows = Object.entries(obj).map(([k,v]) => {
          const name = pretty[k] || k;
          return `<tr><td style="text-align:left">${name}</td><td>${formatEUR(v)}</td></tr>`;
        }).join('');
        return `
          <table>
            <thead>
              <tr><th style="text-align:left">Concepto</th><th>Importe</th></tr>
            </thead>
            <tbody>${rows}</tbody>
          </table>`;
      }

      fetch('data/conceptos_salariales_2026.json')
        .then(r => { if(!r.ok) throw new Error('No disponible'); return r.json(); })
        .then(data => {
          if (data.otros_conceptos_salariales) {
            document.getElementById('otros-conceptos').innerHTML = renderTable(data.otros_conceptos_salariales);
          }
          if (data.prestaciones_no_salariales) {
            document.getElementById('prestaciones').innerHTML = renderTable(data.prestaciones_no_salariales);
          }
        })
        .catch(() => {
          document.getElementById('otros-conceptos').innerHTML = '<div style="padding:12px;border:1px solid #ffd2b5;background:#fff5f2;border-radius:8px">No se pudieron cargar los conceptos adicionales.</div>';
        });
    })();
  </script>
  <script src="js/pwa.js"></script>
</body>
</html>